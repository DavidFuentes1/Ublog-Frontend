<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<!--CSS BOOTSTRAP-->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
	<title>UBlog</title>
</head>

<body style="background-color:#454DDE;">
	<!-- NAVBAR -->
	<nav class="navbar navbar-dark bg-dark">
		<a class="navbar-brand" style="margin-left: 20px" href="#">
			<img src="./assets/Ublog_logo.png" width="120" height="50" class="d-inline-block align-top" alt="" />
		</a>
		<ul class="nav">
			<li class="nav-item">
				<a class="nav-link active" aria-current="page" href="index.html">Ublog</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="login.html">Login</a>
			</li>

		</ul>
	</nav>
	<!-- MAIN CONTENT -->
	<div class="container">
		<div class="row">
			<div class="col-sm" style="margin: 15px">
				<h1 class="text-center mb-5">Signup</h1>
				<form id="signupForm">
					<div class="form-group">
						<label for="signupName">Nombre</label>
						<input type="text" class="form-control" id="signupName" placeholder="Ingrese su nombre" />
					</div>
					<div class="form-group">
						<label for="signupEmail">Correo Electronico</label>
						<input type="email" class="form-control" id= "signupEmail" placeholder="Ingrese su correo" />
					</div>
					<div class="form-group">
						<label for="signupGender">Gender</label>
						<select id="signupGender" class="form-control">
							<option value="M">M</option>
							<option value="F">F</option>
						</select>
					</div>
					<div class="form-group">
						<label for="signupUserName">Username</label>
						<input type="text" class="form-control" id="signupUserName" placeholder="Ingrese su username" />
					</div>
					
					<div class="form-group">
						<label for="signupPassword">Password</label>
						<input type="password" class="form-control" id="signupPassword"
							placeholder="Ingrese su password" />
					</div>
					<br />
					<button id="signupButton" type="submit" class="btn btn-success w-100">
						Signup
					</button>
				</form>
			</div>
			<div class="col-sm" style="margin: 15px"></div>
		</div>
	</div>
	<!--SCRIPT BOOTSTRAP-->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
		crossorigin="anonymous"></script>
	<!--MAIN ACTIONS-->
	<script>
		//Signup
		let signupForm = document.getElementById("signupForm");
		let signupName = document.getElementById("signupName");
		let signupEmail = document.getElementById("signupEmail")
		let signupGender = document.getElementById("signupGender");
		let signupUserName = document.getElementById("signupUserName");
		let signupPassword = document.getElementById("signupPassword");
		let signupButton = document.getElementById("signupButton");
		signupForm.addEventListener("submit", (e) => {
			e.preventDefault();
		});
		signupButton.addEventListener("click", (e) => {
			const newUser = {
				name: signupName.value,
				email : signupEmail.value,
				gender: signupGender.value,
				username: signupUserName.value,
				password: signupPassword.value,
				
			};
			console.log(newUser);
			fetch("https://ublog201807185.herokuapp.com/signup", {
				method: "POST",
				headers: {
					"content-type": "application/json",
				},
				body: JSON.stringify(newUser),
			})
				.then((response) => response.json())
				.then((data) => {
					if (data.message) {
						console.error(data);
					} else {
						
						window.location = "index.html";
					}
				})
				.catch((error) => console.error(error));
		});

	</script>
</body>

</html>